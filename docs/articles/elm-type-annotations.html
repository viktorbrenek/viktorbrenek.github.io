<!DOCTYPE html><head><title>Viktor Břenek</title><meta content="text/html;charset=utf-8" http-equiv="Content-Type"><meta content="utf-8" http-equiv="encoding"><meta name="author" content="Petr Břenek"><meta name="description" content="Osobní blog a portfolio"><meta property="og:image" content="http://viktorbrenek.github.io/assets/images/modely.png"><meta name="viewport" content="width=device-width,initial-scale=1.0"><style>@import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap');

body {
  background-color: #3d3f41;
  font-family: "Lato", sans-serif;
  color: #c7c7b0;
}
.mainpage {
  display: block;
}
h1 {
  display: block;
  font-size: 4.5rem;
  margin-block-start: 0.67em;

  margin-inline-start: 0px;
  margin-inline-end: 0px;
  font-weight: bold;
}
.links {
  position: fixed;
  list-style: none;
  width: 120px;
  bottom: 40px;
  right: 20px;
  padding: 0;
  margin: 0;
  z-index: 998;
}
.links p {
  font-family: "Lato", sans-serif;
  text-transform: uppercase;
  text-align: center;
  padding: 0.25em 0;
  letter-spacing: 2px;
  font-size: 10px;
  display: block;
  width: 100%;
  opacity: 0.6;
  color: #FFF;
}
.links li {
  border-bottom: #222 1px solid;
  border-bottom: rgba(255, 255, 255, 0.1) 1px solid;
}
.links li a {
  transition: opacity 0.2s ease-out;
  font-family: "Lato", sans-serif;
  text-transform: uppercase;
  text-align: right;
  padding: 0.25em 0;
  letter-spacing: 2px;
  font-size: 12px;
  display: block;
  width: 100%;
  opacity: 0.4;
  color: #FFF;
}
.links li a:hover {
  opacity: 0.8;
}
.links li .who:before {
  opacity: 0.5;
  content: '@';
  float: left;
}
.links li .source:before {
  opacity: 0.5;
  content: '{}';
  float: left;
}
.links li .blog:before {
  opacity: 0.5;
  content: '&';
  float: left;
}
.hide {
  opacity: 0;
}
*,
*::before,
*::after {
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
:root {
  font-size: 10px;
  --padding: 3rem;
}
::-moz-selection {
  background: #111111;
  color: #595959;
}
::selection {
  background: #111111;
  color: #595959;
}
html {
  font-family: "Lato", sans-serif;
}
@supports (font-variation-settings: normal) {
  html {
    font-family: "Lato", sans-serif;
  }
}
h1,
h2,
h3,
h4,
p,
a,
span {
  text-rendering: geometricPrecision;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
h1 {
  font-size: 4.5rem;
  line-height: 1.3;
}
a {
  text-decoration: none;
  color: white;
  -webkit-filter: brightness(0.8);
  filter: brightness(0.8);
  -webkit-transition: 150ms;
  -o-transition: 150ms;
  transition: 150ms;
}
a,
a * {
  border-radius: 0.15rem;
}
a:hover {
  -webkit-filter: brightness(1.09);
  filter: brightness(1.09);
}
menu {
  justify-content: space-between;
  position: fixed;
  width: 100%;
  top: 0;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.750);
  z-index: 999;
}
menu a {
  font-size: 2.2rem;
  color: white;
  text-align: center;
  display: block;
  float: left;
  padding: 16px 14px;
  text-decoration: none;
}
.grid {
  display: -ms-grid;
  display: grid;
  -ms-grid-columns: 1fr 1.5rem 1fr 1.5rem 1fr 1.5rem 1fr 1.5rem 1fr 1.5rem 1fr;
  grid-template-columns: repeat(6, 1fr);
  grid-row-gap: 1.5rem;
  grid-column-gap: 1.5rem;
  margin: 0 auto;
  max-width: 150rem;
}
body {
  background: #1a1a1a;
  color: white;
}
.gridblog {
  grid-template-columns: repeat(6, 1fr);
  grid-row-gap: 1.5rem;
  grid-column-gap: 1.5rem;
  margin: 0 auto;
  margin-bottom: 10rem;
  max-width: 150rem;
  min-height: 100vh;
  max-width: 1024px;
}
.full {
  grid-column-start: 1;
  -ms-grid-column-span: 7;
  grid-column-end: span 7;
}
.intro {
  grid-column-start: 1;
  grid-column-end: span 5;
  margin-top: 6rem;
  font-size: 4.5rem;
}
.project-grid {
  grid-column-start: 1;
  grid-column-end: span 7;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-row-gap: 15rem;
  grid-column-gap: 2rem;
  margin: 1rem auto;
}
.project-grid a {
  -ms-grid-column-span: 2;
  grid-column: span 2;
  color: white;
  min-height: 56.25%;
}
.project-grid a h3 {
  font-size: 2.15rem;
  margin: 1.25rem 0;
}
.project-grid a p {
  font-size: 1.5rem;
  color: lightgrey;
}
.project-grid a img {
  margin-bottom: 0;
  -o-object-fit: cover;
  object-fit: cover;
  width: 100%;
  height: 100%;
}
main {
  padding: 3rem var(--padding);
}
footer {
  margin-top: 8rem;
  padding: 6rem var(--padding);
  display: flex;
  -webkit-box-pack: justify;
  justify-content: space-between;
  -webkit-box-align: center;
  align-items: center;
  flex-wrap: wrap;
  margin: 0 auto;
  max-width: 150rem;
  
}
footer > * {
  margin-top: var(--padding);
}
footer h2 {
  font-size: 4.5rem;
}
.button {
  padding: 2rem 3rem;
  font-size: 2.5rem;
  background: #8e8e8e;
  color: #1a1a1a;
}
.button:hover {
  -webkit-filter: brightness(1.5);
  filter: brightness(1.5);
}
.blog-grid {
  grid-column-start: 1;
  display: grid;
  grid-template-rows: repeat(3, fr);
  grid-row-gap: 15rem;
  grid-column-gap: 2rem;
  margin: 1rem auto;
  justify-content: left;
}
.articles {
  list-style: none;
}
.articles__item {
  display: flex;
  flex-wrap: wrap;
}
.articles__item__link {
  flex: 1;
  text-decoration: none;
  cursor: auto;
}
.articles__item__title {
  font-size: 2.15rem;
  margin: 1.25rem 0;
}
.articles__item__date {
  margin-right: 0.75rem;
  flex-basis: 7em;
}

.task {
  cursor:move;
  background-color:var(--white);
  padding:1rem;
  border-radius:8px;
  width:100%;
  box-shadow: rgba(99, 99, 99, 0.1) 0px 2px 8px 0px;
  margin-bottom:1rem;
  border:3px dashed transparent;
} 
.task__tag--copyright:hover {
  box-shadow: rgba(99, 99, 99, 0.3) 0px 2px 8px 0px;
  border-color:rgba(162,179,207,.2)!important;
}
   
.task__tag {
  font-size:12px;
  cursor:pointer;
  display: inline-block;
  padding: 0.3em 0.85em;
  text-transform: uppercase;
  border: 3px solid #28242f;
 

  transition: transform 0.2s;
  transition-timing-function: cubic-bezier(0.45, -0.85, 0.55, -0.45)
}

.task__tag:hover {
  transform: scale(1.1);
  background: linear-gradient(to right, #ff8a00, #da1b60);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.task__tags {
  list-style-type: none;
  margin: 0.5em 0.5em 1.5em 0.5em;
}

.task__tag--copyright {
  
  font-weight: 900;
}
 
.atitle {
  padding-top: 4rem;
}

.acontent {
  padding-top: 2rem;
}



pre {
  background: #222;
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  color: #fff;
  padding: 2.5em;
  width: 100%;
  -webkit-font-smoothing: antialiased;
  margin-top: 2rem;
  margin-bottom: 2rem;
  overflow: scroll;
}

code {
  font: 'Source Code Pro';
  font-size: 1.2rem;  
}

h2 {
  margin-top: 2rem;
  margin-bottom: 2rem;
  font-size: 2.5rem;
}

p {
  font-size: 1.5rem;
}

li {
  font-size: 1.5rem;
}


@media (max-width: 4000px) {
  pre { 
    overflow: hidden ;
  }
}



@media (max-width: 960px) {
  :root {
    font-size: 9px;
  }
  .intro {
    grid-column-start: 1;
    -ms-grid-column-span: 7;
    grid-column-end: span 7;
  }
  .project-grid {
    grid-row-gap: 16rem;
  }
  .project-grid a h3 {
    font-size: 2.5rem;
    margin-bottom: 1.15rem;
  }
  .project-grid a {
    -ms-grid-column-span: 3;
    grid-column: span 3;
  }

  pre { 
    overflow: hidden ;
  }
}

@media (max-width: 700px) {
  :root {
    font-size: 8px;
    --padding: 2rem;
  }
  .project-grid {
    grid-row-gap: 24rem;
  }
  .project-grid a {
    -ms-grid-column-span: 6;
    grid-column: span 6;
  }
  .project-grid a h3 {
    font-size: 3rem;
    margin-top: 2rem;
  }
  .project-grid a p {
    font-size: 1.75rem;
  }
  .project-grid a img {
    width: 100vw;
    margin: auto calc(50% - 50vw);
  }
  pre { 
    overflow: scroll ;
  }
}
@media (min-width: 4000px) {
  :root {
    font-size: 40px;
  }
  
}
</style><meta charset="utf-8"><title>Blog</title></head><body><ul class="links" id="links"> <li><a class="who" href="https://discord.com/invite/2Uj6N5N" target="_blank">Discord</a></li><li><a class="blog" href="https://www.youtube.com/c/ViktorBřenekYT" target="_blank">Youtube</a></li><li><a class="source" href="https://github.com/viktorbrenek" target="_blank">Github</a></li></ul><menu><a class="name" href="#">Viktor Břenek</a><a class="name" href="../blog.html">Blog</a><a class="name" href="../index.html">Portfolio</a></menu><main class="gridblog"><h1 class="atitle">Elm Type Annotations</h1><div><span><ul class="task__tags"><li class="task__tag task__tag--copyright">Elm</li><li class="task__tag task__tag--copyright">Frontend development</li><li class="task__tag task__tag--copyright">Maybe</li></ul></span></div><p>As Elm is a statically typed language, everything has a type – even <a href="elm-maybe.html">nothing</a>. Type annotations are an optional feature and the compiler can infer the types of your functions and value. Even though you do not have to write the type annotations yourself you probably should: They document your code and make it more explicit.</p>
<div id="more"></div>
<h3>What are type annotations?</h3>
<p>When I wrote about <a href="elm-functions.html">functions in Elm</a> I already briefly touched on type annotations, but there is much more to them. To start lets recap quickly: <strong>Type annotations describe the input and output types of functions.</strong></p>
<pre><code class="language-elm"><span class="hljs-title">add</span> : <span class="hljs-type">Int</span> -&gt; <span class="hljs-type">Int</span> -&gt; <span class="hljs-type">Int</span>
<span class="hljs-title">add</span> a b =
    a + b
</code></pre>
<p>It starts with the function name which is separated from the argument and return types by a colon. The type of the return value is not any different than the argument types, it is just the last element of the list:</p>
<pre><code>&lt;function: add&gt; : Int      -&gt; Int      -&gt; Int
| function name | type arg1 | type arg2 | type result |
</code></pre>
<h3>Partial application and currying</h3>
<p>There is a good reason for the return type not being any different from the arguments: In Elm, functions are curried by default. In case they do not receive all arguments listed in the type annotation, they will return a partially applied function. To illustrate this let’s use our <code>add</code> function from above and let it capture the first argument:</p>
<pre><code class="language-elm"><span class="hljs-title">add2</span> : <span class="hljs-type">Int</span> -&gt; <span class="hljs-type">Int</span>
<span class="hljs-title">add2</span> = add <span class="hljs-number">2</span>

<span class="hljs-title">add2</span> <span class="hljs-number">3</span>
<span class="hljs-comment">-- 5 : Int</span>
</code></pre>
<p>The function <code>add2</code> is created by applying the value <code>2</code> to the <code>add</code> function. This returns a new function that only needs one argument to be fullfilled.</p>
<p>As a matter of fact, every function in Elm takes only one argument: Functions that look like they are taking multiple arguments are simply using single argument functions behind the scenes. This way <strong>type annotation are also telling you about partial application of a function</strong>: If you give a function only some of its arguments the result is another function that is taking the rest of the original functions arguments.</p>
<h3>Optional, but strongly encouraged</h3>
<p>The Elm compiler can infer the types and does not need them as an explicit information. You will learn quickly though that the <strong>type annotations are not meant for the compiler but for yourself</strong>: They let you know at a glance how many and what kinds of arguments a function expects. Therefore they are very useful for documentation purposes. And they are a kind of documentation that won’t go out of date: The compiler assures that the stated types match the function definition.</p>
<p>Every function in the standard library has a type annotation. Before you can publish a library on the <a href="http://package.elm-lang.org/">Elm Packages</a> site you are required to have type annotations for your functions. This is not just nice in terms of basic documentation, but also for third-party tools and editor plugins, which can use the annotations to offer code completion or additional documentation.</p>
<p>Besides the documentation aspect <strong>you will be guided towards better code</strong>: By writing and thinking about the type annotations first you define the interface of your functions: Hence you have not only to think about the types of the arguments but also their order – which is particularly interesting in terms of partial application.</p>
<h3>Constraining types and type variables</h3>
<p>In warning mode the compiler will let you know about missing type annotations and it will also present the infered annotation. This can help as a starting point for more complex type definitions <em>(e.g. for records)</em>, nevertheless you want to end up with your own annotations: Not only are they more expressive, but you can also be more restrictive than the autogenerated annotations:</p>
<pre><code class="language-elm"><span class="hljs-title">subtract</span> a b =
    a - b
<span class="hljs-comment">-- &lt;function&gt; : number -&gt; number -&gt; number</span>
</code></pre>
<p>In this simple case the compiler infers the type <code>number</code>. It is a <em>special kind of type variable*</em> which can either be an <code>Int</code> or <code>Float</code>.</p>
<p><strong>Type variables are used to describe more than one possible type</strong>: They have lowercase names, making them easy to distinguish from concrete types, which are capitalized. When a type variable is used multiple times in an annotation, all occurrences must resolve to the same type. If you want to use different types, you have to use different names for the type variables.</p>
<p>Oftentimes you want to be explicit about the types that should be used. By defining a type annotation you can constrain the function to only accept concrete types:</p>
<pre><code class="language-elm"><span class="hljs-title">subtract</span> : <span class="hljs-type">Float</span> -&gt; <span class="hljs-type">Float</span> -&gt; <span class="hljs-type">Float</span>
<span class="hljs-title">subtract</span> a b =
    a - b
</code></pre>
<p>* <em>Besides <code>number</code> there are two more special cases: <code>comparable</code> and <code>appendable</code>. Those three <strong>keywords for type variables</strong> define traits of values and point to a superset of possible types.</em></p>
<h3>More on type annotations</h3>
<p>Even though I described type annotations only in conjunction with functions, you can also use them for values like tuples, lists or records:</p>
<pre><code class="language-elm">coordinates : (Float, Float)
coordinates = (53.1201749, 8.5962037)

list : List number
list = [ 1, 2, 3, 4 ]

rect : { width : Int, height : Int }
rect = { width = 10, height = 20 }
</code></pre>
<h4>Type Annotations in elm-repl</h4>
<p>When you try to use type annotations in the elm-repl you will get a syntax error pointing out the unexpected occurrence of the colon. This happened to me some times when I tried to copy and paste code I wanted to test in the REPL. The message is not really intuitive at first and made me wonder what was wrong. It is simply due to the fact that the elm-repl unfortunately <a href="https://github.com/elm-lang/elm-repl/issues/86">does not support type annotations yet</a>. In case you need to test code with type annotations you have to use elm-reactor or the <a href="http://elm-lang.org/try">Try Environment on elm-lang.org</a>.</p>
</main><footer></footer></body>