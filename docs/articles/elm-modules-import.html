<!DOCTYPE html><head><title>Viktor Břenek</title><meta content="text/html;charset=utf-8" http-equiv="Content-Type"><meta content="utf-8" http-equiv="encoding"><meta name="author" content="Petr Břenek"><meta name="description" content="Osobní blog a portfolio"><meta property="og:image" content="http://viktorbrenek.github.io/assets/images/modely.png"><meta name="viewport" content="width=device-width,initial-scale=1.0"><link rel="stylesheet" href="../styles.css"><meta charset="utf-8"><title>Blog</title></head><body><ul class="links" id="links"> <li><a class="who" href="https://discord.com/invite/2Uj6N5N" target="_blank">Discord</a></li><li><a class="blog" href="https://www.youtube.com/c/ViktorBřenekYT" target="_blank">Youtube</a></li><li><a class="source" href="https://github.com/viktorbrenek" target="_blank">Github</a></li></ul><menu><a class="name" href="#">Viktor Břenek</a><a class="name" href="../blog.html">Blog</a><a class="name" href="../index.html">Portfolio</a></menu><main class="gridblog"><h1 class="atitle">Elm Modules and Imports</h1><div><span><ul class="task__tags"><li class="task__tag task__tag--copyright">Elm</li><li class="task__tag task__tag--copyright">Frontend development</li><li class="task__tag task__tag--copyright">Module</li><li class="task__tag task__tag--copyright">Import</li></ul></span></div><p>In the previous article which describes <a href="elm-setup-first-project.html">how to setup your first Elm project</a> we already needed to import a module. Importing a module exposes its functionality in the context of the program that is loading the module. In Elm there are different ways to import modules and we will have a look at these in this article.</p>
<div id="more"></div>
<h3>The Elm module system</h3>
<p>Elm has three sources from which modules can be imported:</p>
<ul>
<li>The standard library</li>
<li>Additionally installed modules (via the package manager)</li>
<li>Custom modules from the current project</li>
</ul>
<p>Some of the modules from the standard library are imported by default and can be used without explicitly importing them: In Elm 0.16.0 these are <code>Basics</code>, <code>Debug</code>, <code>List</code>, <code>Maybe</code>, <code>Result</code> and <code>Signal</code>.</p>
<p>The standard library covers the most essential parts of the functionality in Elm, but there is already a wide range of additional modules that can be installed via the package manager. One of them is the <a href="http://package.elm-lang.org/packages/evancz/elm-html/latest/"><code>elm-html</code></a> package which we will use in the examples below. To import the package we first need to install it:</p>
<pre><code class="language-bash">$ elm-package install evancz/elm-html
</code></pre>
<p>Before we will learn how to define custom modules let us focus on the different ways to import modules …</p>
<h3>Qualified Imports</h3>
<p>We are going to expand upon the Hello World example from the previous article. It already showed the simplest way of using the <code>import</code> statement:</p>
<pre><code class="language-elm"><span class="hljs-keyword">import</span> Html
<span class="hljs-keyword">import</span> Html.Attributes


<span class="hljs-title">main</span> : <span class="hljs-type">Html</span>.<span class="hljs-type">Html</span>
<span class="hljs-title">main</span> =
    <span class="hljs-type">Html</span>.div
        [ <span class="hljs-type">Html</span>.<span class="hljs-type">Attributes</span>.class <span class="hljs-string">"wrapper"</span> ]
        [ <span class="hljs-type">Html</span>.h1
            [ <span class="hljs-type">Html</span>.<span class="hljs-type">Attributes</span>.class <span class="hljs-string">"headline"</span> ]
            [ <span class="hljs-type">Html</span>.text <span class="hljs-string">"Hello World"</span> ]
        , <span class="hljs-type">Html</span>.p []
            [ <span class="hljs-type">Html</span>.text <span class="hljs-string">"HTML, with qualified imports."</span> ]
        ]
</code></pre>
<p>To generate HTML we import the <a href="http://package.elm-lang.org/packages/evancz/elm-html/latest/"><code>Html</code></a> module and the accompanying submodule <code>Html.Attributes</code>, which includes helper functions for creating HTML attributes. There is also the submodule <code>Html.Events</code> for attaching event bindings to elements.</p>
<p>When using a <em>qualified import</em> one has to reference the modules functions by their fully-qualified name. This means you have to state their name including the module name and even the type of the module can only be referenced with the full qualifier (in this case <code>Html.Html</code>).</p>
<p>As you can see this leads to some redundancy in case a modules is used often. This brings us to the next type of imports …</p>
<h3>Unqualified Imports</h3>
<p>Using the keyword <code>exposing</code> one can define which parts of the module should be available without using the qualifier.</p>
<pre><code class="language-elm"><span class="hljs-comment">-- exposing single identifiers</span>
<span class="hljs-keyword">import</span> Html <span class="hljs-keyword">exposing</span> (<span class="hljs-type">Html</span>, div, h1, p)

<span class="hljs-comment">-- exposing everything</span>
<span class="hljs-keyword">import</span> Html.Attributes <span class="hljs-keyword">exposing</span> (..)


<span class="hljs-title">main</span> : <span class="hljs-type">Html</span>
<span class="hljs-title">main</span> =
    div
        [ class <span class="hljs-string">"wrapper"</span> ]
        [ h1
            [ class <span class="hljs-string">"headline"</span> ]
            [ text <span class="hljs-string">"Hello World"</span> ]
        , p []
            [ text <span class="hljs-string">"HTML, mit Unqualified Imports."</span> ]
        ]
</code></pre>
<p>One can expose single module identifiers (module or function names, see the <code>Html</code> import) or even all of the modules identifiers, as shown with the import of <code>Html.Attributes</code>.</p>
<h3>Import Alias</h3>
<p>Beyond the basic import functionality there is also a way of defining an alias for the imported module:</p>
<pre><code class="language-elm"><span class="hljs-keyword">import</span> HelperFunctions <span class="hljs-keyword">as</span> Utils
</code></pre>
<p>In this example the functions defined in <code>HelperFunctions</code> will be available by using <code>Utils</code> as qualifier/prefix.</p>
<h3>When to use which kind of import?</h3>
<p>These are some best practices to consider when importing a module:</p>
<ul>
<li>You should try your best to use <em>qualified imports</em> as much as possible, as they offer the clearest way to show which module functionality is coming from.</li>
<li>For often used identifiers its best though, to use an <em>unqualified import</em>. This prevents redundancy and helps to keep the code clean. The HTML modules are a good example for this.</li>
<li>An <em>alias</em> should not be used to shorten module names to something meaningless and cryptic like <code>import Html as H</code>. Instead one should define a suitable name that reveals the intention or the purpose of the given module.</li>
</ul>
<h3>Defining custom modules</h3>
<p>As long as we are working in a simple app contained in a single file everything is pretty easy. In this case we do not even need a module definition as the compiler assumes we are working inside the <code>Main</code> module. When projects grow, it makes sense to split them up into separate modules.</p>
<p>Modules get defined at the top of the file. It is optional to explicitly state what gets exported – in case this statement is left out everything will be exported, which is the same as defining the exports as <code>(..)</code>.</p>
<pre><code class="language-elm"><span class="hljs-comment">-- default module definition</span>
<span class="hljs-keyword">module</span> Main

<span class="hljs-comment">-- custom module exporting everything</span>
<span class="hljs-keyword">module</span> FullAwesomeness <span class="hljs-keyword">exposing</span> (..)

<span class="hljs-comment">-- custom module exporting only the specified types and functions</span>
<span class="hljs-keyword">module</span> Restricted <span class="hljs-keyword">exposing</span> (<span class="hljs-type">ImportableType</span>, importableFunction)
</code></pre>
<p>Now that we know how to import and define our own modules, let us take the next step by learning about the central construct of the Elm programming language: <a href="/articles/elm-functions.html">Functions</a>.</p>
</main><footer></footer></body>