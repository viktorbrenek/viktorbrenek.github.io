<!DOCTYPE html><head><title>Viktor Břenek</title><meta content="text/html;charset=utf-8" http-equiv="Content-Type"><meta content="utf-8" http-equiv="encoding"><meta name="author" content="Petr Břenek"><meta name="description" content="Osobní blog a portfolio"><meta property="og:image" content="http://viktorbrenek.github.io/assets/images/modely.png"><meta name="viewport" content="width=device-width,initial-scale=1.0"><style>@import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap');

body {
  background-color: #3d3f41;
  font-family: "Lato", sans-serif;
  color: #c7c7b0;
}
.mainpage {
  display: block;
}
h1 {
  display: block;
  font-size: 4.5rem;
  margin-block-start: 0.67em;

  margin-inline-start: 0px;
  margin-inline-end: 0px;
  font-weight: bold;
}
.links {
  position: fixed;
  list-style: none;
  width: 120px;
  bottom: 40px;
  right: 20px;
  padding: 0;
  margin: 0;
  z-index: 998;
}
.links p {
  font-family: "Lato", sans-serif;
  text-transform: uppercase;
  text-align: center;
  padding: 0.25em 0;
  letter-spacing: 2px;
  font-size: 10px;
  display: block;
  width: 100%;
  opacity: 0.6;
  color: #FFF;
}
.links li {
  border-bottom: #222 1px solid;
  border-bottom: rgba(255, 255, 255, 0.1) 1px solid;
}
.links li a {
  transition: opacity 0.2s ease-out;
  font-family: "Lato", sans-serif;
  text-transform: uppercase;
  text-align: right;
  padding: 0.25em 0;
  letter-spacing: 2px;
  font-size: 12px;
  display: block;
  width: 100%;
  opacity: 0.4;
  color: #FFF;
}
.links li a:hover {
  opacity: 0.8;
}
.links li .who:before {
  opacity: 0.5;
  content: '@';
  float: left;
}
.links li .source:before {
  opacity: 0.5;
  content: '{}';
  float: left;
}
.links li .blog:before {
  opacity: 0.5;
  content: '&';
  float: left;
}
.hide {
  opacity: 0;
}
*,
*::before,
*::after {
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
:root {
  font-size: 10px;
  --padding: 3rem;
}
::-moz-selection {
  background: #111111;
  color: #595959;
}
::selection {
  background: #111111;
  color: #595959;
}
html {
  font-family: "Lato", sans-serif;
}
@supports (font-variation-settings: normal) {
  html {
    font-family: "Lato", sans-serif;
  }
}
h1,
h2,
h3,
h4,
p,
a,
span {
  text-rendering: geometricPrecision;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
h1 {
  font-size: 4.5rem;
  line-height: 1.3;
}
a {
  text-decoration: none;
  color: white;
  -webkit-filter: brightness(0.8);
  filter: brightness(0.8);
  -webkit-transition: 150ms;
  -o-transition: 150ms;
  transition: 150ms;
}
a,
a * {
  border-radius: 0.15rem;
}
a:hover {
  -webkit-filter: brightness(1.09);
  filter: brightness(1.09);
}
menu {
  justify-content: space-between;
  position: fixed;
  width: 100%;
  top: 0;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.750);
  z-index: 999;
}
menu a {
  font-size: 2.2rem;
  color: white;
  text-align: center;
  display: block;
  float: left;
  padding: 16px 14px;
  text-decoration: none;
}
.grid {
  display: -ms-grid;
  display: grid;
  -ms-grid-columns: 1fr 1.5rem 1fr 1.5rem 1fr 1.5rem 1fr 1.5rem 1fr 1.5rem 1fr;
  grid-template-columns: repeat(6, 1fr);
  grid-row-gap: 1.5rem;
  grid-column-gap: 1.5rem;
  margin: 0 auto;
  max-width: 150rem;
}
body {
  background: #1a1a1a;
  color: white;
}
.gridblog {
  grid-template-columns: repeat(6, 1fr);
  grid-row-gap: 1.5rem;
  grid-column-gap: 1.5rem;
  margin: 0 auto;
  margin-bottom: 10rem;
  max-width: 150rem;
  min-height: 100vh;
  max-width: 1024px;
}
.full {
  grid-column-start: 1;
  -ms-grid-column-span: 7;
  grid-column-end: span 7;
}
.intro {
  grid-column-start: 1;
  grid-column-end: span 5;
  margin-top: 6rem;
  font-size: 4.5rem;
}
.project-grid {
  grid-column-start: 1;
  grid-column-end: span 7;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-row-gap: 15rem;
  grid-column-gap: 2rem;
  margin: 1rem auto;
}
.project-grid a {
  -ms-grid-column-span: 2;
  grid-column: span 2;
  color: white;
  min-height: 56.25%;
}
.project-grid a h3 {
  font-size: 2.15rem;
  margin: 1.25rem 0;
}
.project-grid a p {
  font-size: 1.5rem;
  color: lightgrey;
}
.project-grid a img {
  margin-bottom: 0;
  -o-object-fit: cover;
  object-fit: cover;
  width: 100%;
  height: 100%;
}
main {
  padding: 3rem var(--padding);
}
footer {
  margin-top: 8rem;
  padding: 6rem var(--padding);
  display: flex;
  -webkit-box-pack: justify;
  justify-content: space-between;
  -webkit-box-align: center;
  align-items: center;
  flex-wrap: wrap;
  margin: 0 auto;
  max-width: 150rem;
  
}
footer > * {
  margin-top: var(--padding);
}
footer h2 {
  font-size: 4.5rem;
}
.button {
  padding: 2rem 3rem;
  font-size: 2.5rem;
  background: #8e8e8e;
  color: #1a1a1a;
}
.button:hover {
  -webkit-filter: brightness(1.5);
  filter: brightness(1.5);
}
.blog-grid {
  grid-column-start: 1;
  display: grid;
  grid-template-rows: repeat(3, fr);
  grid-row-gap: 15rem;
  grid-column-gap: 2rem;
  margin: 1rem auto;
  justify-content: left;
}
.articles {
  list-style: none;
}
.articles__item {
  display: flex;
  flex-wrap: wrap;
}
.articles__item__link {
  flex: 1;
  text-decoration: none;
  cursor: auto;
}
.articles__item__title {
  font-size: 2.15rem;
  margin: 1.25rem 0;
}
.articles__item__date {
  margin-right: 0.75rem;
  flex-basis: 7em;
}

.task {
  cursor:move;
  background-color:var(--white);
  padding:1rem;
  border-radius:8px;
  width:100%;
  box-shadow: rgba(99, 99, 99, 0.1) 0px 2px 8px 0px;
  margin-bottom:1rem;
  border:3px dashed transparent;
} 
.task__tag--copyright:hover {
  box-shadow: rgba(99, 99, 99, 0.3) 0px 2px 8px 0px;
  border-color:rgba(162,179,207,.2)!important;
}
   
.task__tag {
  font-size:12px;
  cursor:pointer;
  display: inline-block;
  padding: 0.3em 0.85em;
  text-transform: uppercase;
  border: 3px solid #28242f;
 

  transition: transform 0.2s;
  transition-timing-function: cubic-bezier(0.45, -0.85, 0.55, -0.45)
}

.task__tag:hover {
  transform: scale(1.1);
  background: linear-gradient(to right, #ff8a00, #da1b60);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.task__tags {
  list-style-type: none;
  margin: 0.5em 0.5em 1.5em 0.5em;
}

.task__tag--copyright {
  
  font-weight: 900;
}
 
.atitle {
  padding-top: 4rem;
}

.acontent {
  padding-top: 2rem;
}



pre {
  background: #222;
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  color: #fff;
  padding: 2.5em;
  width: 100%;
  -webkit-font-smoothing: antialiased;
  margin-top: 2rem;
  margin-bottom: 2rem;
  overflow: scroll;
}

code {
  font: 'Source Code Pro';
  font-size: 1.2rem;  
}

h2 {
  margin-top: 2rem;
  margin-bottom: 2rem;
  font-size: 2.5rem;
}

p {
  font-size: 1.5rem;
}

li {
  font-size: 1.5rem;
}


@media (max-width: 4000px) {
  pre { 
    overflow: hidden ;
  }
}



@media (max-width: 960px) {
  :root {
    font-size: 9px;
  }
  .intro {
    grid-column-start: 1;
    -ms-grid-column-span: 7;
    grid-column-end: span 7;
  }
  .project-grid {
    grid-row-gap: 16rem;
  }
  .project-grid a h3 {
    font-size: 2.5rem;
    margin-bottom: 1.15rem;
  }
  .project-grid a {
    -ms-grid-column-span: 3;
    grid-column: span 3;
  }

  pre { 
    overflow: hidden ;
  }
}

@media (max-width: 700px) {
  :root {
    font-size: 8px;
    --padding: 2rem;
  }
  .project-grid {
    grid-row-gap: 24rem;
  }
  .project-grid a {
    -ms-grid-column-span: 6;
    grid-column: span 6;
  }
  .project-grid a h3 {
    font-size: 3rem;
    margin-top: 2rem;
  }
  .project-grid a p {
    font-size: 1.75rem;
  }
  .project-grid a img {
    width: 100vw;
    margin: auto calc(50% - 50vw);
  }
  pre { 
    overflow: scroll ;
  }
}
@media (min-width: 4000px) {
  :root {
    font-size: 40px;
  }
  
}
</style><meta charset="utf-8"><title>Blog</title></head><body><ul class="links" id="links"> <li><a class="who" href="https://discord.com/invite/2Uj6N5N" target="_blank">Discord</a></li><li><a class="blog" href="https://www.youtube.com/c/ViktorBřenekYT" target="_blank">Youtube</a></li><li><a class="source" href="https://github.com/viktorbrenek" target="_blank">Github</a></li></ul><menu><a class="name" href="#">Viktor Břenek</a><a class="name" href="../blog.html">Blog</a><a class="name" href="../index.html">Portfolio</a></menu><main class="gridblog"><h1 class="atitle">Elm Maybe</h1><div><span><ul class="task__tags"><li class="task__tag task__tag--copyright">Elm</li><li class="task__tag task__tag--copyright">Frontend development</li><li class="task__tag task__tag--copyright">Maybe</li></ul></span></div><p>Opposed to JavaScript and many other programming languages, Elm does not have the concept of <code>undefined</code> or <code>null</code> values. Of course there are cases in which variables contain nothing or functions cannot return a proper value – but instead of leaving it up to you whether or not to handle these cases, Elm makes them explicit with a type called <code>Maybe</code> and enforces the handling thereof.</p>
<div id="more"></div>
<p>The <a href="http://package.elm-lang.org/packages/elm-lang/core/3.0.0/Maybe"><code>Maybe</code></a> module contains the type as well as some helper functions for dealing with  optional arguments, error handling and records with optional fields. <code>Maybe</code> itself is a <a href="/articles/elm-data-structures-union-type.html">union type</a> type with the two constructors <code>Just</code> and <code>Nothing</code>:</p>
<pre><code class="language-elm"><span class="hljs-keyword">type</span> <span class="hljs-type">Maybe</span> value =
    <span class="hljs-type">Just</span> value |
    <span class="hljs-type">Nothing</span>
</code></pre>
<p>It is best to think of <code>Maybe</code> as a container for a single value, which can either be present or missing. For example, consider accessing elements of a <code>List</code> or an <code>Array</code>: Whereas in dynamic languages like JavaScript you would get <code>undefined</code> for values that do not exist, statically typed languages like Elm require a special type for representing the concept of nothingness.</p>
<pre><code class="language-elm"><span class="hljs-keyword">import</span> Array <span class="hljs-keyword">exposing</span> (fromList)


<span class="hljs-title">myList</span> =
    [ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> ]


<span class="hljs-title">myArray</span> =
    (fromList myList)


<span class="hljs-type">List</span>.head myList
<span class="hljs-comment">-- Just 1 : Maybe.Maybe number</span>

<span class="hljs-type">Array</span>.get <span class="hljs-number">4</span> myArray
<span class="hljs-comment">-- Nothing : Maybe.Maybe number</span>
</code></pre>
<p><code>List.head</code> gives back the first element of the given list, which may or may not exist. In this case the returned <code>Just</code> value wraps the actual value of <code>1</code> as the list has at least one element. When trying to access the forth element of the array we get back the value <code>Nothing</code> as the array contains only three elements.</p>
<p>This forces us to always handle both cases when trying to access values that may or may not exist: The compiler simply won’t compile our code if we have not covered both possibilities. This is actually a very good thing as the compiler assures you do not forget to handle errors and edge cases that will surely come up one day. It is also an example of how the compiler prevents runtime errors …</p>
<h3>Dealing with Maybes</h3>
<p>Ok, now that we are assured that we won’t miss any cases how do we handle <code>Maybe</code> values? Instead of using <code>if</code> and <code>else</code> as in JavaScript, in Elm we are using the <code>case</code> expression:</p>
<pre><code class="language-elm"><span class="hljs-title">alice</span> =
    <span class="hljs-type">Just</span> ({ login = <span class="hljs-string">"alice"</span> })


<span class="hljs-title">bob</span> =
    <span class="hljs-type">Nothing</span>


<span class="hljs-title">currentUserLogin</span> : <span class="hljs-type">Maybe</span> -&gt; <span class="hljs-type">String</span>
<span class="hljs-title">currentUserLogin</span> user =
    <span class="hljs-keyword">case</span> user <span class="hljs-keyword">of</span>
        <span class="hljs-type">Just</span> currentUser -&gt;
          currentUser.login
        <span class="hljs-type">Nothing</span> -&gt;
          <span class="hljs-string">""</span>


<span class="hljs-title">currentUserLogin</span> alice
<span class="hljs-comment">-- "alice" : String</span>

<span class="hljs-title">currentUserLogin</span> bob
<span class="hljs-comment">-- "" : String</span>
</code></pre>
<p>Here we are creating the function <code>alice</code> returning a <code>Maybe</code> value by using the <code>Just</code> function with a sample record representing a user that is signed in. The function <code>bob</code> represents a signed out user by returning the value <code>Nothing</code>.</p>
<p>The <code>user</code> value is handled in the case statement contained in the <code>currentUserLogin</code> function: If it is <code>Nothing</code> the case statement returns an empty string. In case the <code>user</code> is signed in the statement destructures the <code>Just</code> value to <code>currentUser</code> and returns the users login.</p>
<p><a href="elm-data-structures-record-tuple.html#destructuring">Destructuring</a> is a really nice feature in Elm and case statements can destructure all kinds of data structures. You will find it in many places in Elm code: Update functions use destructuring for <code>Msg</code> types and the <code>Result</code> and <code>Task</code> types are handled very similar to how we deal with <code>Maybe</code>.</p>
<h4>More ways to handle Maybes</h4>
<p>We can also access <code>Maybe</code> values by mapping them or using the functions <code>withDefault</code> and <code>oneOf</code>:</p>
<pre><code class="language-elm"><span class="hljs-type">Maybe</span>.map (\n -&gt; n + <span class="hljs-number">2</span>) (<span class="hljs-type">Just</span> <span class="hljs-number">1</span>)
<span class="hljs-comment">-- Just 3 : Maybe.Maybe number</span>

<span class="hljs-type">Maybe</span>.map (\n -&gt; n + <span class="hljs-number">2</span>) <span class="hljs-type">Nothing</span>
<span class="hljs-comment">-- Nothing : Maybe.Maybe number</span>

<span class="hljs-type">Maybe</span>.withDefault <span class="hljs-number">3</span> (<span class="hljs-type">Just</span> <span class="hljs-number">5</span>)
<span class="hljs-comment">-- 5 : number</span>

<span class="hljs-type">Maybe</span>.withDefault <span class="hljs-number">3</span> <span class="hljs-type">Nothing</span>
<span class="hljs-comment">-- 3 : number</span>

<span class="hljs-type">Maybe</span>.oneOf [ <span class="hljs-type">Nothing</span>, (<span class="hljs-type">Just</span> <span class="hljs-number">1</span>), (<span class="hljs-type">Just</span> <span class="hljs-number">2</span>) ]
<span class="hljs-comment">-- Just 1 : Maybe.Maybe number</span>

<span class="hljs-type">Maybe</span>.oneOf [ <span class="hljs-type">Nothing</span>, <span class="hljs-type">Nothing</span>, <span class="hljs-type">Nothing</span> ]
<span class="hljs-comment">-- Nothing : Maybe.Maybe a</span>
</code></pre>
<p>And last but not least the higher order function <code>andThen</code> can be used to chain computations. It receives a <code>Maybe</code> value and a callback function that gets invoked in case there is a value:</p>
<pre><code class="language-elm">(<span class="hljs-type">List</span>.head [<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]) |&gt; <span class="hljs-type">Maybe</span>.andThen (\n -&gt; <span class="hljs-type">Just</span>(n * <span class="hljs-number">3</span>))
<span class="hljs-comment">-- Just 9 : Maybe.Maybe number</span>
</code></pre>
<p>Here <code>List.head</code> returns <code>Just(3)</code> which is then passed to an anonymous function. This function multiplies it with 3 and returns the value 9 wrapped in a <code>Just</code> which could then be passed to another <code>andThen</code> as well.</p>
<p><strong>TL;DR</strong> The Maybe module allows us to model and handle cases of non-existing values explicitely. The compiler forces us to handle each of the possible cases and guarantees there will be no runtime errors due to empty values.</p>
</main><footer></footer></body>