{"version":3,"sources":["gulpfile.js"],"names":["mvb","require","highlightjs","gulp","paths","articles","articleTemplate","articlesBasepath","mvbConf","template","permalink","article","id","highlight","code","lang","languages","undefined","highlightAuto","value","grouping","byYear","forEach","year","date","toISOString","replace","push","task","src","pipe","pug","dest"],"mappings":"aAAA,IAAIA,IAAMC,QAAQ,YACdC,YAAcD,QAAQ,gBADtBD,OAAMC,QAAQ,eAGdE,KAAOF,QAAQ,QAEbG,MAAQ,CAHdC,SAAU,CAAGJ,qBACbK,gBAAmB,4BAMjBC,iBAAkB,YAFlBC,QAAA,CAEAD,KAAAA,MAAAA,SAGFE,SAAaL,MAAGE,gBAGdI,UARA,SAQAC,GACAF,MAAAA,IAAAA,OAAUL,MAAME,iBAAhBG,KAAAA,OAJcE,EAAAC,GAIdH,UAMAI,UAfA,SAeAC,EAAAC,GAKE,IAAMC,EAAqB,MAARD,EAAgB,CAACA,QAAQE,EAJ9C,OAAAf,YAAAgB,cAAAJ,EAAAE,GAAAG,OAMCC,SAtBD,SAKcf,GAkBd,IAAAgB,EAAA,GAMEhB,OALFA,EAAAiB,QAAA,SAAAX,GACA,IAAAY,EAAAZ,EAAAa,KAAAC,cAAAC,QAAA,MAAA,IAEAN,OADAC,EAAAE,KAAAF,EAAAE,GAAA,IArBcF,EAAAE,GAAAI,KAsBLtB,KAEPA,CAASiB,OAAAA,KAIRnB,KAJDyB,KAAA,WAAA,WAAA,OAKAzB,KAAA0B,IAAOzB,MAAAC,UAAEgB,KAAAA,IAAAA,UAATS,KAAAC,OACDD,KAAA3B,KAAA6B,KAAA5B,MAAAG","file":"gulpfile.min.js","sourcesContent":["var mvb = require('gulp-mvb');\nvar highlightjs = require('highlight.js');\nvar rename = require(\"gulp-rename\");\nvar gulp = require('gulp');\n\nconst paths = {\n  articles: ['src/articles/*.md'],\n  //feedTemplate: 'src/templates/atom.pug',\n  articleTemplate: 'src/templates/article.pug',\n  articlesBasepath: 'articles'\n};\n\nconst mvbConf = {\n  // glob that locates the article markdown files\n  glob: paths.articles,\n  // the template for an article page\n  template: paths.articleTemplate,\n  // callback function for generating an article permalink.\n  // see docs below for info on the article properties.\n  permalink(article) {\n    return `/${paths.articlesBasepath}/${article.id}.html`;\n  },\n  // callback function to further modify an article after it has been loaded.\n  /*loaded(article) {\n    article.calculatedData = doSomething();\n  },*/\n  highlight(code, lang) {\n    const languages = (lang != null) ? [lang] : undefined;\n    return highlightjs.highlightAuto(code, languages).value;\n  },\n  // callback function for generating custom article groups.\n  // access the return value via the groupedArticles property, so that you can\n  // either return an array if you only have one group or return an object with\n  // named groups in case you want to use multiple groups (by date, by tag, ...)\n  grouping(articles) {\n    const byYear = {};\n    articles.forEach((article) => {\n      let year = article.date.toISOString().replace(/-.*/, \"\");\n      byYear[year] || (byYear[year] = []);\n      return byYear[year].push(article);\n    });\n    return { byYear };\n  }\n}\n\ngulp.task('articles', () =>\n  gulp.src(paths.articles)\n    .pipe(mvb(mvbConf))\n    .pipe(pug())\n    .pipe(gulp.dest(paths.articlesBasepath))\n);\n\n"]}